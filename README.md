# azure-ai-search-practice
Practicing with Azure AI Search Index

## Introduction
In this exercise, we practised building an Azure AI Search Index. In this context, a search index is data you make available to the search engine for indexing, full text search, vector search, hybrid search, and filtered queries. To do so, we used an Azure AI Search service, an Azure AI service and a data storage service. We did it following Microsoft Learn guidelines present in this [link](https://aka.ms/ai900-ai-search).

## Setup Steps
1. With a valid Azure Subscription, navigate to portal.azure.com, click "+ New resource", search for Azure AI Search, select it and click create. Select or create a resource group, a unique name, prefered location and basic pricing tier. Click review+create and create the new resource. After the resource deployment is complete, you can seleect "go to resource". On the AI Search overview you can add indexes, import data and search created indexes.
2. Navigate a second time to portal.azure.com, click "+ New resource", search for Azure AI Services, select it and click create.Select the same subscription and resource group used above, give the resource a unique name, select a prefered location, standard S0 pricing tier and check the acknowledgment box. Click review+create and create the resource.
3. Navigate one last time to portal.azure.com, click "+ New resource", search for storage account and create a storage account resource. Select the same subscription and resource group; the storage account unique name must be unique among all azure storage accounts across all user accounts; Select a prefered location, standard performance and LRS redundancy. Review and create. Wait for the deployment to complete, go to the resource, click "Configuration", under "Settings", on the left pannel. Set "Allow Blob anonymous access" to "Enabled".

Here we have all resources set in the same group. We can then upload some documents to the storage account, so we can use them to create indexes and queries and enrich the data. In this practiced we did this using data about coffee reviews provided by Microsoft Learn in this [link](https://aka.ms/mslearn-coffee-reviews)

## How it works
1. Upload the files - In the storage account page's left pannel, select Containers, click "+ container" and create a container, give it a name and set the public access level to "Container (anonymous read access for containers and blobs)". In the [portal](portal.azure.com), go to your newly created container and click "Upload". In the "Upload blob" right-hand menu, select your documents. We used the documents from Microsoft Learn "Fourth Coffee" coffee reviews. (This proceeding can be used by itself to store any documents on azure)
2. Create the Connection between the Storage Account resource and the Azure AI Search resource - With the documents in the storage container, navigate to the portal and select the Azure AI Search resource created earlier; On it's overview tab click "Import data" to access the "import data wizard"; On the "Connect to your data" page, select Azure Blob Storage in the Data Source list. In this exercise, we followed MS guidelines settings, setting "Data to exctract" to content and metadata, parsing mode to default, and the created container as the connection string.
3. Connect the Azure AI services resource and enrich data - Select "Next: Add cognitive skills (Optional)"; In "Attach Cognitive Services", select your previously created Azure AI services resource. In "Add enrichments" you can costumize which kind of data you want to extract from the document; You can choose among different Cognitive Skills to do so, such as Extract location names, Detect faces, Extract key phrases, etc. We used MS guidelines settings. We can select which data we want to save to a knowledge store, which is a container where the enriched data created by Azure AI services will be stored. Select Azur blob projections: Document. The container name is auto generated with the knowledge store.
4. Costumize the index and create a indexer - click on "Next - customize target index". Choose a name and check if the "Key" field is set to metadata_storage_path. Review the index fields deffault settings and select filterable for all default selected fields. Select "Next: create an indexer" and ensure that the "Base-64 Encode Keys" is selected under advanced options and select Submit. It will create the data source, skillset, index, and indexer. The indexer will automatically extract metadata and content, create enriched fields with cognitive skills and map the extracted metadata fields to the index.
5. Wait for the deploy to finish and go back to the created Azure AI Search service. On overview, select Search explorer. This is a tool built-in to the Azure portal which we can use to write queries to the search index and review results in JSON. You can filter the results by any field you previously selected in step 3.
6. Review the knowledge store - In the created storage account page, select the knowledge-store container, in the containers section from the left-hand menu. Here you can access all the enriched data files created by the services, which can be stored as images, JSON or tables.

## Conclusion
The Azure AI Search Index is a very powerful solution to quickly search and analyse meaningful data from large sets of documents. It can be useful for a large variety of applications and services from virtually any sector. It's deep customization and easy-to-use user interface contributes to make it even more accessible to integrate with any kind of bussiness. A lawyers' office or any sales department are good examples of services which would greatly benefit from it's use.
